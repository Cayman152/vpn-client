# Ghost VPN Windows MVP

## Зафиксированные решения
- База: fork GhostVPN + xray-core/sing-box.
- Язык интерфейса: только русский.
- Основной режим: TUN включен по умолчанию.
- Поведение окна: клик по `X` полностью завершает приложение и отключает VPN.
- Политика маршрутизации по умолчанию: Global (весь трафик через VPN).
- Режим сервера: один активный сервер (после импорта/добавления автоматически остается один).

## Реализовано в текущем проходе
- Подключен реальный логотип:
  - источник: `/Users/n.kozhukhov/IMG_6592.PNG`
  - добавлен в ресурсы: `Assets/ghostvpn-logo.png`
  - PNG добавлен в branding-файл: `GhostVPN.png`
  - сгенерирован `GhostVPN.ico` (256x256) и подставлен в tray/window иконки.
- Добавлены крупные кнопки на главном экране:
  - единая кнопка VPN (`Включить VPN` / `Отключить VPN` по состоянию)
  - `Добавить сервер из буфера`
  - `Правила маршрутизации`
- Убран нижний тумблер TUN (`Режим VPN`) из статус-бара.
- Безопасное подключение: системный прокси переключается в режим VPN только если ядро действительно запущено.
- Скрыты подписки и значительная часть лишних функций UI (speedtest/sub/group).
- Упрощен импорт серверов из буфера (переименован пункт меню).
- Добавлен быстрый экспорт правил маршрутизации в JSON-файл.
- Добавлены пресеты Direct:
  - Онлайн-кинотеатры
  - Банки
  - Провайдеры
- Добавлен импорт правил из JSON-файла (быстрый пункт меню).

## Что осталось довести
- Брендинг: логотип/иконка приложения и финальная неоново-синяя тема.
- Точная чистка оставшихся неиспользуемых окон/команд из форка.
- Финальная проверка на Windows сборке и smoke-тест сценариев подключения.

## Важно
Сборка и запуск в текущем окружении не проверялись, т.к. отсутствует `dotnet` CLI.

## Сборка Windows через GitHub (без локального dotnet)
1. Открой репозиторий: `https://github.com/Cayman152/vpn-client`.
2. Перейди во вкладку `Actions`.
3. Слева выбери workflow `Ghost VPN Windows Build`.
4. Нажми `Run workflow`.
5. В поле `release_tag`:
   - оставь пустым, если нужен только артефакт в Actions;
   - укажи, например, `v0.1.0`, если нужно сразу положить zip в релиз.
6. Нажми `Run workflow` в всплывающем окне.
7. После завершения открой run и скачай:
   - `ghost-vpn-windows-setup-x64` (установщик `GhostVPN-Setup-x64.exe`, создает ярлык `Ghost VPN`);
   - `ghost-vpn-windows-64` (portable-архив x64);
   - `ghost-vpn-windows-arm64` (portable-архив для ARM).
8. После установки запускать файл `GhostVPN.exe` через ярлык `Ghost VPN`.
9. Сборка автоматически включает ядра (`xray`/`sing-box`) в папку `bin`, вручную докладывать файлы не нужно.
